<style>
  /* resizable table */
  table.table {
    width: 100%;
    overflow: hidden;
  }

  td,
  th {
    /* overflow: hidden;
    white-space: nowrap; */
    -moz-text-overflow: ellipsis;
    -ms-text-overflow: ellipsis;
    -o-text-overflow: ellipsis;
    text-overflow: ellipsis;
    /* word-wrap: break-word; */
    word-break: break-word;
  }

  /* end of resizable table */
  /* Begin: sidebar css */
  #sidebar-wrapper {
    position: relative;
    max-width: 15vw;
    width: 100%;
    -webkit-transition: margin .25s ease-out;
    -moz-transition: margin .25s ease-out;
    -o-transition: margin .25s ease-out;
    transition: margin .25s ease-out;
    margin: 60px 0;
  }

  #sidebar-wrapper .sidebar-container {
    position: fixed;
    display: inline-block;
    max-width: inherit;
    width: 100%;
    overflow: auto;
    max-height: 100vh;
  }

  .sidebar-container .list-group {
    padding-top: 0;
    margin-bottom: 5rem;

  }

  #sidebar-wrapper .sidebar-container::-webkit-scrollbar {
    display: none;
  }

  #wrapper.toggled #sidebar-wrapper {
    margin-left: -13rem;
  }

  .btn-toggle-container {
    height: fit-content;
    width: fit-content;
  }

  .list-group-item-secondary {
    color: black;
    border: none;
  }

  .list-group-item-dark {
    border: none;
    font-size: 14px;
  }

  .rotate {
    -moz-transition: all .25s linear;
    -webkit-transition: all .25s linear;
    transition: all .25s linear;
  }

  .rotate.down {
    -moz-transform: rotate(-90deg);
    -webkit-transform: rotate(-90deg);
    transform: rotate(-90deg);
  }

  .rotate.right {
    -moz-transform: rotate(180deg);
    -webkit-transform: rotate(180deg);
    transform: rotate(180deg);
  }

  #page-content-wrapper {
    padding: 5% 3%;
    width: 100%;
    overflow: hidden;
  }

  /* End: sidebar css */

  #table-container {
    padding: 5% 7%;
  }

  .img-container {
    width: 100%;
    padding: 5%;
    display: flex;
  }

  img {
    width: 100%;

    margin: auto;
    height: auto;
  }

  /* list css */
  .info-container p {
    margin: 0;
  }

  .info-container:hover {
    cursor: pointer;
    background-color: lightgrey;
  }

  .name {
    font-weight: bold;
    font-size: larger;
  }

  .phone-number .email .id {
    font-size: smaller;
  }

  /* color for table header */
  .daily {
    background-color: lightgoldenrodyellow;
  }

  .monthly {
    background-color: lightcyan;
  }

  .table-container,
  .note-container {
    padding: 16px 64px;
    margin: 16px 0;
    border: 1px solid lightgrey;
    overflow-x: scroll;
    max-width: 100vw;
  }

  .note-container {
    overflow-x: unset !important;
    max-width: 300px;
  }

  .box {
    width: 24px;
    height: 24px;
    border: 0.5px solid lightgrey;
    margin-bottom: 16px;
  }
</style>

<!-- Sidebar -->
<div id="sidebar-wrapper">
  <div class="sidebar-container d-flex">
    <div class="sidebar">
      <div class="list-group list-group-flush justify-content-center">
        <a href="#" class="list-group-item list-group-item-action list-group-item-secondary">Dashboard</a>
        <a href="#" class="list-group-item list-group-item-action list-group-item-secondary rotate-list-item"
          data-toggle="collapse" data-target="#reminding-item">
          Nhắc nhở
          <span class="material-icons rotate">chevron_left</span>
        </a>
        <div class="collapse" id="reminding-item">
          <a onclick="getPage('/contractMng/waitingContracts')"
            class="list-group-item list-group-item-action list-group-item-dark">Hợp đồng chờ</a>
          <a onclick="getPage('/contractMng/latePeriod')"
            class="list-group-item list-group-item-action list-group-item-dark">Khoản thu quá hạn</a>
          <a onclick="getPage('/contractMng/goingToDo')"
            class="list-group-item list-group-item-action list-group-item-dark">Khoản thu sắp phải thực
            hiện</a>
        </div>
        <a onclick="getPage('/contractMng/contracts')"
          class="list-group-item list-group-item-action list-group-item-secondary">Danh sách hợp đồng</a>
        <a onclick="getPage('/contractMng/contractsManagement')"
          class="list-group-item list-group-item-action list-group-item-secondary">Quản lý hợp đồng</a>
        <a onclick="getPage('/evaluationMng/evaluation')"
          class="list-group-item list-group-item-action list-group-item-secondary">Thẩm định giá</a>
        <a onclick="getPage('/contractMng/contractTemplates')" id="createNewContract"
          class="list-group-item list-group-item-action list-group-item-secondary">Tạo mới hợp đồng</a>
        <a onclick="getPage('/systemMng/properties')"
          class="list-group-item list-group-item-action list-group-item-secondary">Quản lý tài sản</a>
        <a href="#" class="list-group-item list-group-item-action list-group-item-secondary rotate-list-item"
          data-toggle="collapse" data-target="#statistic-item">Thống kê/ báo cáo
          <span class="material-icons rotate">chevron_left</span>
        </a>
        <div class="collapse" id="statistic-item">
          <a onclick="getPage('/systemMng/statistic')"
            class="list-group-item list-group-item-action list-group-item-secondary">Báo cáo kho</a>
          <a onclick="getPage('/systemMng/moneyReport')"
            class="list-group-item list-group-item-action list-group-item-secondary">Báo cáo quỹ tiền phòng GD</a>
          <a onclick="getPage('/systemMng/companyMoneyReport')"
            class="list-group-item list-group-item-action list-group-item-secondary">Báo cáo quỹ tiền Công ty</a>
          <a onclick="getPage('/systemMng/statisticReport')"
            class="list-group-item list-group-item-action list-group-item-secondary">Thống kê báo cáo</a>
        </div>

        <a href="#" class="list-group-item list-group-item-action list-group-item-secondary rotate-list-item"
          data-toggle="collapse" data-target="#management-item">Quản lý hệ thống
          <span class="material-icons rotate">chevron_left</span>
        </a>
        <div class="collapse" id="management-item">
          <a onclick="getPage('/contractMng')" class="list-group-item list-group-item-action list-group-item-dark">Quản
            lý mẫu hợp đồng</a>
          <!-- <a href="#" class="list-group-item list-group-item-action list-group-item-dark">Quan ly mau phieu</a> -->
          <a onclick="getPage('/systemMng/stores')"
            class="list-group-item list-group-item-action list-group-item-dark">Quản lý cửa hàng</a>
          <a onclick="getPage('/systemMng/warehouses')"
            class="list-group-item list-group-item-action list-group-item-dark">Quản lý kho</a>
          <a onclick="getPage('/evaluationMng/itemStatus')"
            class="list-group-item list-group-item-action list-group-item-dark">Quản lý tình trạng tài sản</a>
          <a onclick="getPage('/systemMng/employees')"
            class="list-group-item list-group-item-action list-group-item-dark">Quản lý nhân viên</a>
          <a onclick="getPage('/evaluationMng')"
            class="list-group-item list-group-item-action list-group-item-dark">Quản lý thẩm định giá</a>
          <a onclick="getPage('/systemMng/itemType')"
            class="list-group-item list-group-item-action list-group-item-dark">Quản lý loại tài sản</a>
          <a onclick="getPage('/systemMng/funds')"
            class="list-group-item list-group-item-action list-group-item-dark">Quản lý quỹ tiền</a>
          <a onclick="getPage('/contractMng/transactionHistory')"
            class="list-group-item list-group-item-action list-group-item-dark">Quản lý thu chi</a>
        </div>
        <a href="#" class="list-group-item list-group-item-action list-group-item-secondary rotate-list-item"
          data-toggle="collapse" data-target="#test-loan">Test tính lãi
          <span class="material-icons rotate">chevron_left</span>
        </a>
        <div class="collapse" id="test-loan">
          <a onclick="getPage('/systemMng/testLoan1')"
            class="list-group-item list-group-item-action list-group-item-dark">Dư nợ cố định</a>
          <a onclick="getPage('/systemMng/testLoan2')"
            class="list-group-item list-group-item-action list-group-item-dark">Dư nợ giảm dần, gốc cố định</a>
          <a onclick="getPage('/systemMng/testLoan3')"
            class="list-group-item list-group-item-action list-group-item-dark">Dư nợ giảm dần hàng tháng</a>
          <a onclick="getPage('/systemMng/testLoan4')"
            class="list-group-item list-group-item-action list-group-item-dark">Du no co dinh dau ky</a>
          <a onclick="getPage('/systemMng/testPaydown1')"
            class="list-group-item list-group-item-action list-group-item-dark">Test tra bot du no co dinh</a>
          <a onclick="getPage('/systemMng/testPaydown2')"
            class="list-group-item list-group-item-action list-group-item-dark">Test tra bot du no giam dan goc co
            dinh</a>
          <a onclick="getPage('/systemMng/testPaydown3')"
            class="list-group-item list-group-item-action list-group-item-dark">Test tra bot hang thang</a>
          <a onclick="getPage('/systemMng/testPaydown4')"
            class="list-group-item list-group-item-action list-group-item-dark">Test tra bot du no co dinh dau ky</a>
        </div>
      </div>
    </div>
    <div class="btn-toggle-container">
      <button class="btn btn-primary btn-sm rotate-btn px-2 " id="sidebar-toggle-btn">
        <span class="material-icons rotate">chevron_left</span>
      </button>
    </div>
  </div>

</div>


<script>
  // $("#menu-toggle").click(function (e) {
  //   e.preventDefault();
  //   $("#wrapper").toggleClass("toggled");

  // });
  document.querySelector('a#createNewContract').addEventListener('click', (event) => {
    window.localStorage.removeItem('evaluatingItem')
    window.localStorage.removeItem('itemStatus')
  })
  // hide sidebar onclick
  $("#sidebar-toggle-btn").click(function (e) {
    e.preventDefault();
    $("#wrapper").toggleClass("toggled");
  });

  // rotate icon of list-group-item having sublist
  $(".rotate-list-item").click(function () {
    $(this).find(".rotate").toggleClass("down");
  })

  // rotate icon of toggle sidebar button when clicking
  $(".rotate-btn").click(function () {
    $(this).find(".rotate").toggleClass("right")
  })

  // css for sublist menu
  $(".collapse").on('show.bs.collapse', () => {
    $(".collapse").find(".list-group-item").css('justify-content', 'center')
    $(".collapse").find(".list-group-item").css('text-align', 'center')

  })

  // resizable table
  // $(function () {
  //   $(document.querySelector('.table')).resizableColumns({
  //     // store: window.store
  //   });
  // });
  $(function () {
    var thHeight = $("table th:first").height();
    $("table th").resizable({
      handles: "e",
      minHeight: thHeight,
      maxHeight: thHeight,
      minWidth: 40,
      maxWidth: 100,
      resize: function (event, ui) {
        var sizerID = "#" + $(event.target).attr("id") + "-sizer";
        $(sizerID).width(ui.size.width);
      }
    });
  });


  // css for all list-group-item not having icon 
  document.querySelector('.sidebar-container').querySelectorAll(".list-group-item").forEach(element => {
    element.style.justifyContent = 'flex-start'

    // if(element.querySelector('span') === null){
    // }
  })

  const getPage = (url) => {
    console.log('url: ', url)
    const accessToken = window.localStorage.getItem('accessToken')
    console.log('access token: ', accessToken)
    window.location.href = url + '?token=' + accessToken
  }
</script>
<!-- /#sidebar-wrapper -->